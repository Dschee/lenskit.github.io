<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Thu Apr 10 15:57:37 CDT 2014 -->
<title>SimpleNeighborhoodFinder (LensKit 2.1-SNAPSHOT)</title>
<meta name="date" content="2014-04-10">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SimpleNeighborhoodFinder (LensKit 2.1-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html" title="interface in org.grouplens.lenskit.knn.user"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/grouplens/lenskit/knn/user/SnapshotNeighborhoodFinder.html" title="class in org.grouplens.lenskit.knn.user"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/grouplens/lenskit/knn/user/SimpleNeighborhoodFinder.html" target="_top">Frames</a></li>
<li><a href="SimpleNeighborhoodFinder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.grouplens.lenskit.knn.user</div>
<h2 title="Class SimpleNeighborhoodFinder" class="title">Class SimpleNeighborhoodFinder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.grouplens.lenskit.knn.user.SimpleNeighborhoodFinder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, <a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html" title="interface in org.grouplens.lenskit.knn.user">NeighborhoodFinder</a></dd>
</dl>
<hr>
<br>
<pre>@ThreadSafe
public class <span class="strong">SimpleNeighborhoodFinder</span>
extends java.lang.Object
implements <a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html" title="interface in org.grouplens.lenskit.knn.user">NeighborhoodFinder</a>, java.io.Serializable</pre>
<div class="block">Neighborhood finder that does a fresh search over the data source ever time.

 <p>This rating vector has support for caching user rating vectors, where it
 avoids rebuilding user rating vectors for users with no changed user. When
 caching is enabled, it assumes that the underlying data is timestamped and
 that the timestamps are well-behaved: if a rating has been added after the
 currently cached rating vector was computed, then its timestamp is greater
 than any timestamp seen while computing the cached vector.

 <p>Currently, this cache is never cleared. This should probably be changed
 sometime.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../serialized-form.html#org.grouplens.lenskit.knn.user.SimpleNeighborhoodFinder">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/grouplens/lenskit/knn/user/SimpleNeighborhoodFinder.html#SimpleNeighborhoodFinder(org.grouplens.lenskit.data.dao.UserEventDAO, org.grouplens.lenskit.data.dao.ItemEventDAO, int, org.grouplens.lenskit.knn.user.UserSimilarity, org.grouplens.lenskit.transform.normalize.UserVectorNormalizer, org.grouplens.lenskit.transform.threshold.Threshold)">SimpleNeighborhoodFinder</a></strong>(<a href="../../../../../org/grouplens/lenskit/data/dao/UserEventDAO.html" title="interface in org.grouplens.lenskit.data.dao">UserEventDAO</a>&nbsp;udao,
                        <a href="../../../../../org/grouplens/lenskit/data/dao/ItemEventDAO.html" title="interface in org.grouplens.lenskit.data.dao">ItemEventDAO</a>&nbsp;idao,
                        int&nbsp;nnbrs,
                        <a href="../../../../../org/grouplens/lenskit/knn/user/UserSimilarity.html" title="interface in org.grouplens.lenskit.knn.user">UserSimilarity</a>&nbsp;sim,
                        <a href="../../../../../org/grouplens/lenskit/transform/normalize/UserVectorNormalizer.html" title="interface in org.grouplens.lenskit.transform.normalize">UserVectorNormalizer</a>&nbsp;norm,
                        <a href="../../../../../org/grouplens/lenskit/transform/threshold/Threshold.html" title="interface in org.grouplens.lenskit.transform.threshold">Threshold</a>&nbsp;thresh)</code>
<div class="block">Construct a new user neighborhood finder.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/grouplens/lenskit/knn/user/SimpleNeighborhoodFinder.html#findCandidateNeighbors(long, it.unimi.dsi.fastutil.longs.LongSet, it.unimi.dsi.fastutil.longs.LongCollection)">findCandidateNeighbors</a></strong>(long&nbsp;user,
                      <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a>&nbsp;userItems,
                      <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongCollection.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongCollection</a>&nbsp;itemSet)</code>
<div class="block">Find users who may have rated items both in the user's rated item set and a target item
 set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2ObjectMap.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">Long2ObjectMap</a>&lt;? extends java.util.Collection&lt;<a href="../../../../../org/grouplens/lenskit/knn/user/Neighbor.html" title="class in org.grouplens.lenskit.knn.user">Neighbor</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/grouplens/lenskit/knn/user/SimpleNeighborhoodFinder.html#findNeighbors(org.grouplens.lenskit.data.history.UserHistory, it.unimi.dsi.fastutil.longs.LongSet)">findNeighbors</a></strong>(<a href="../../../../../org/grouplens/lenskit/data/history/UserHistory.html" title="interface in org.grouplens.lenskit.data.history">UserHistory</a>&lt;? extends <a href="../../../../../org/grouplens/lenskit/data/event/Event.html" title="interface in org.grouplens.lenskit.data.event">Event</a>&gt;&nbsp;user,
             <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a>&nbsp;items)</code>
<div class="block">Find the neighbors for a user with respect to a collection of items.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SimpleNeighborhoodFinder(org.grouplens.lenskit.data.dao.UserEventDAO, org.grouplens.lenskit.data.dao.ItemEventDAO, int, org.grouplens.lenskit.knn.user.UserSimilarity, org.grouplens.lenskit.transform.normalize.UserVectorNormalizer, org.grouplens.lenskit.transform.threshold.Threshold)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SimpleNeighborhoodFinder</h4>
<pre>@Inject
public&nbsp;SimpleNeighborhoodFinder(<a href="../../../../../org/grouplens/lenskit/data/dao/UserEventDAO.html" title="interface in org.grouplens.lenskit.data.dao">UserEventDAO</a>&nbsp;udao,
                               <a href="../../../../../org/grouplens/lenskit/data/dao/ItemEventDAO.html" title="interface in org.grouplens.lenskit.data.dao">ItemEventDAO</a>&nbsp;idao,
                               <a href="../../../../../org/grouplens/lenskit/knn/NeighborhoodSize.html" title="annotation in org.grouplens.lenskit.knn">@NeighborhoodSize</a>
                               int&nbsp;nnbrs,
                               <a href="../../../../../org/grouplens/lenskit/knn/user/UserSimilarity.html" title="interface in org.grouplens.lenskit.knn.user">UserSimilarity</a>&nbsp;sim,
                               <a href="../../../../../org/grouplens/lenskit/transform/normalize/UserVectorNormalizer.html" title="interface in org.grouplens.lenskit.transform.normalize">UserVectorNormalizer</a>&nbsp;norm,
                               <a href="../../../../../org/grouplens/lenskit/knn/user/UserSimilarityThreshold.html" title="annotation in org.grouplens.lenskit.knn.user">@UserSimilarityThreshold</a>
                               <a href="../../../../../org/grouplens/lenskit/transform/threshold/Threshold.html" title="interface in org.grouplens.lenskit.transform.threshold">Threshold</a>&nbsp;thresh)</pre>
<div class="block">Construct a new user neighborhood finder.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>udao</code> - The user-event DAO.</dd><dd><code>idao</code> - The item-event DAO.</dd><dd><code>nnbrs</code> - The number of neighbors to consider for each item.</dd><dd><code>sim</code> - The similarity function to use.</dd><dd><code>thresh</code> - A threshold for user similarities.  Neighbors are only considered if their
               similarity to the user passes this threshold.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findNeighbors(org.grouplens.lenskit.data.history.UserHistory, it.unimi.dsi.fastutil.longs.LongSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNeighbors</h4>
<pre>public&nbsp;<a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2ObjectMap.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">Long2ObjectMap</a>&lt;? extends java.util.Collection&lt;<a href="../../../../../org/grouplens/lenskit/knn/user/Neighbor.html" title="class in org.grouplens.lenskit.knn.user">Neighbor</a>&gt;&gt;&nbsp;findNeighbors(@Nonnull
                                                                     <a href="../../../../../org/grouplens/lenskit/data/history/UserHistory.html" title="interface in org.grouplens.lenskit.data.history">UserHistory</a>&lt;? extends <a href="../../../../../org/grouplens/lenskit/data/event/Event.html" title="interface in org.grouplens.lenskit.data.event">Event</a>&gt;&nbsp;user,
                                                                     @Nonnull
                                                                     <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a>&nbsp;items)</pre>
<div class="block">Find the neighbors for a user with respect to a collection of items.
 For each item, the <var>neighborhoodSize</var> users closest to the
 provided user are returned.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html#findNeighbors(org.grouplens.lenskit.data.history.UserHistory, it.unimi.dsi.fastutil.longs.LongSet)">findNeighbors</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html" title="interface in org.grouplens.lenskit.knn.user">NeighborhoodFinder</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - The user's rating vector.</dd><dd><code>items</code> - The items for which neighborhoods are requested.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A mapping of item IDs to neighborhoods.</dd></dl>
</li>
</ul>
<a name="findCandidateNeighbors(long, it.unimi.dsi.fastutil.longs.LongSet, it.unimi.dsi.fastutil.longs.LongCollection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findCandidateNeighbors</h4>
<pre>protected&nbsp;<a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a>&nbsp;findCandidateNeighbors(long&nbsp;user,
                             <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongSet.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongSet</a>&nbsp;userItems,
                             <a href="http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/LongCollection.html?is-external=true" title="class or interface in it.unimi.dsi.fastutil.longs">LongCollection</a>&nbsp;itemSet)</pre>
<div class="block">Find users who may have rated items both in the user's rated item set and a target item
 set.  It will only query based on one set, so the users may or may not have rated both a
 target item and a source item.  This method tries to be efficient, so it uses the shorter
 list of items to find users.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - The current user's ID (excluded from the returned set).</dd><dd><code>userItems</code> - The items the user has rated.</dd><dd><code>itemSet</code> - The set of items to look for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The set of candidate neighbors.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/grouplens/lenskit/knn/user/NeighborhoodFinder.html" title="interface in org.grouplens.lenskit.knn.user"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/grouplens/lenskit/knn/user/SnapshotNeighborhoodFinder.html" title="class in org.grouplens.lenskit.knn.user"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/grouplens/lenskit/knn/user/SimpleNeighborhoodFinder.html" target="_top">Frames</a></li>
<li><a href="SimpleNeighborhoodFinder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
